<script
  src="https://giscus.app/client.js"
  data-repo="resticDOG/resticDOG.github.io"
  data-repo-id="R_kgDOJ6NPnw"
  data-category="Announcements"
  data-category-id="DIC_kwDOJ6NPn84CYd-Z"
  data-mapping="og:title"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="dark"
  data-lang="zh-CN"
  crossorigin="anonymous"
  async
></script>
<div>
  <script>
    function changeGiscusTheme(reversed) {
      let theme = document.body.classList.contains("dark") ? "light" : "dark";
      if (reversed) {
        theme = theme === "light" ? "dark" : "light";
      }
      function sendMessage(message) {
        const iframe = document.querySelector("iframe.giscus-frame");
        if (!iframe) return;
        iframe.contentWindow.postMessage(
          { giscus: message },
          "https://giscus.app"
        );
      }
      sendMessage({
        setConfig: {
          theme,
        },
      });
    }
    document.addEventListener("DOMContentLoaded", function () {
      setTimeout(function () {
        changeGiscusTheme(true);
      }, 2000);
    });
    const toggle = document.querySelector("#theme-toggle");
    if (toggle) {
      toggle.addEventListener("click", function () {
        changeGiscusTheme();
      });
    }
  </script>
</div>
